# PDF Librarian ğŸ“š (macOS)

A desktop app for managing metadata of book/paper PDFs.

## ä¸­æ–‡ä»‹ç» ğŸ‡¨ğŸ‡³

### âœ¨ æ ¸å¿ƒåŠŸèƒ½
- ğŸ” åŸºäºæ–‡ä»¶åä¸ PDF å†…å®¹æç¤ºï¼Œè”ç½‘æ£€ç´¢ä¹¦ç±/æ–‡çŒ®å…ƒæ•°æ®
- ğŸŒ å¤šæºèšåˆï¼šGoogle Books APIã€Open Library APIã€è±†ç“£ç½‘é¡µæœç´¢ã€Library of Congress
- ğŸ§© å­—æ®µå»é‡ä¸åˆå¹¶ï¼šæŒ‰ `ISBN -> DOI -> æ ‡é¢˜+ä½œè€…` å»é‡å¹¶åˆå¹¶å­—æ®µ
- ğŸ·ï¸ æ”¯æŒ Dublin Core å­—æ®µé€‰æ‹©å†™å…¥ï¼Œå¹¶å¯åœ¨å†™å…¥å‰æ‰‹åŠ¨ç¼–è¾‘å­—æ®µå€¼
- ğŸ§¼ å†™å…¥å‰æ¸…ç©ºæ—§ PDF å†…åµŒå…ƒæ•°æ®å¹¶æ¸…ç©º xattrï¼Œå†å†™å…¥æ–°å€¼
- ğŸ“ æŒ‰æ ‡å‡†è§„åˆ™é‡å‘½åï¼š`ä¹¦å_ä½œè€…_å‡ºç‰ˆç¤¾_å‡ºç‰ˆå¹´_è¯­è¨€.pdf`
- ğŸ¨ æ”¯æŒç•Œé¢å¤–è§‚åˆ‡æ¢ï¼š`è·Ÿéšç³»ç»Ÿ / æ—¥å…‰ / æœˆå…‰`
- ğŸ—£ï¸ æ”¯æŒå¤šè¯­è¨€ç•Œé¢ï¼ˆå‰åå¤§è¯­è¨€ï¼‰

### ğŸš€ ä¸‹è½½å®‰è£…ï¼ˆGitHub Releaseï¼‰
1. æ‰“å¼€ [Releases é¡µé¢](https://github.com/LarryHu1988/Metadata/releases)
2. ä¸‹è½½ `PDFLibrarian-1.0.0.dmg`ï¼ˆæ¨èï¼‰æˆ– `PDFLibrarian-1.0.0.zip`
3. è‹¥æ˜¯ DMGï¼šæ‰“å¼€åå°† `PDF Librarian.app` æ‹–åˆ° `Applications`ï¼Œå³å®‰è£…å®Œæˆ
4. è‹¥æ˜¯ ZIPï¼šè§£å‹åå°† `.app` æ‹–åˆ° `Applications`

é¦–æ¬¡æ‰“å¼€å¦‚é‡åˆ°ç³»ç»Ÿå®‰å…¨æç¤ºï¼š
- åœ¨ Finder ä¸­å³é”® `PDF Librarian.app` -> `æ‰“å¼€`
- æˆ–åœ¨ `ç³»ç»Ÿè®¾ç½® -> éšç§ä¸å®‰å…¨æ€§` ä¸­å…è®¸æ‰“å¼€

è‹¥å¼¹çª—æç¤ºï¼š`Apple æ— æ³•éªŒè¯â€œPDF Librarian.appâ€æ˜¯å¦åŒ…å«å¯èƒ½å±å®³ Mac å®‰å…¨æˆ–æ³„æ¼éšç§çš„æ¶æ„è½¯ä»¶`

è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤è§£é™¤ï¼š
1. å…ˆå…³é—­æç¤ºæ¡†ï¼ŒæŠŠ `PDF Librarian.app` æ‹–åˆ° `Applications`
2. æ‰“å¼€ `ç³»ç»Ÿè®¾ç½® -> éšç§ä¸å®‰å…¨æ€§`
3. åœ¨åº•éƒ¨â€œå®‰å…¨æ€§â€åŒºåŸŸæ‰¾åˆ°è¢«æ‹¦æˆªæç¤ºï¼Œç‚¹å‡» `ä»è¦æ‰“å¼€`
4. å†æ¬¡æ‰“å¼€ Appï¼Œå‡ºç°ç¡®è®¤æ¡†æ—¶ç‚¹å‡» `æ‰“å¼€`

### ğŸ§­ å›ºå®šå·¥ä½œæµ
1. é€‰æ‹© PDF æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼ˆé€’å½’æ‰«æ PDFï¼‰
2. è”ç½‘æ£€ç´¢å¹¶åˆå¹¶å€™é€‰å…ƒæ•°æ®
3. é€‰æ‹©/ç¼–è¾‘ Dublin Core å­—æ®µåç¡®è®¤å†™å…¥
4. è¯¢é—®æ˜¯å¦æŒ‰è§„åˆ™é‡å‘½å

### ğŸ·ï¸ é»˜è®¤å‹¾é€‰å†™å…¥å­—æ®µ
`dc:title`ã€`dc:creator`ã€`dc:publisher`ã€`dc:date`ã€`dc:language`ã€`dc:type`ã€`dc:format`ã€`dc:identifier`ã€`dc:subject`

### ğŸ› ï¸ å¼€å‘ä¸æ‰“åŒ…
```bash
swift build
./scripts/package_app.sh
./scripts/build_release_assets.sh
```

è¾“å‡ºç›®å½•ï¼š`dist/`

---

## English ğŸ‡ºğŸ‡¸

### âœ¨ Features
- ğŸ” Online metadata lookup from filename + extracted PDF hints
- ğŸŒ Multi-source aggregation: Google Books API, Open Library API, Douban web search, Library of Congress
- ğŸ§© Dedup + merge pipeline using `ISBN -> DOI -> title+author`
- ğŸ·ï¸ Selectable Dublin Core fields with editable values before writing
- ğŸ§¼ Clears old embedded PDF metadata and xattrs before writing new values
- ğŸ“ Standard rename rule: `title_author_publisher_year_language.pdf`
- ğŸ¨ Appearance modes: `System / Daylight / Moonlight`
- ğŸ—£ï¸ Multi-language UI support

### ğŸš€ Install from GitHub Releases
1. Open the [Releases page](https://github.com/LarryHu1988/Metadata/releases)
2. Download `PDFLibrarian-1.0.0.dmg` (recommended) or `PDFLibrarian-1.0.0.zip`
3. For DMG: open it and drag `PDF Librarian.app` to `Applications`
4. For ZIP: unzip and drag the app into `Applications`

If macOS blocks first launch:
- Right-click the app in Finder and choose `Open`
- Or allow it in `System Settings -> Privacy & Security`

If you see the warning:
`Apple cannot verify â€œPDF Librarian.appâ€ is free of malware that may harm your Mac or compromise your privacy`

Use these steps:
1. Close the alert and move `PDF Librarian.app` to `Applications`
2. Open `System Settings -> Privacy & Security`
3. In the Security section, find the blocked app message and click `Open Anyway`
4. Launch the app again and click `Open` in the confirmation dialog

### ğŸ§­ Workflow
1. Select a PDF file/folder
2. Search & merge online metadata candidates
3. Select/edit Dublin Core fields and confirm write
4. Confirm optional rule-based rename

### ğŸ› ï¸ Build
```bash
swift build
./scripts/package_app.sh
./scripts/build_release_assets.sh
```

Artifacts are generated in `dist/`.
